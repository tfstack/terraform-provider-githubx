---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "githubx_repository Resource - githubx"
subcategory: ""
description: |-
  Creates and manages a GitHub repository.
---

# githubx_repository (Resource)

Creates and manages a GitHub repository.

## Example Usage

```terraform
terraform {
  required_providers {
    githubx = {
      source  = "tfstack/githubx"
      version = "~> 0.1"
    }
  }
}

# Configure the provider with owner
# The owner can be set via environment variable GITHUB_OWNER instead
provider "githubx" {
  owner = "cloudbuildlab" # Replace with your GitHub username or organization
}

# Example 1: Basic public repository
resource "githubx_repository" "basic" {
  name        = "my-basic-repo"
  description = "A basic public repository"
  visibility  = "public"
}

output "basic_repository_url" {
  value = githubx_repository.basic.html_url
}

# Example 2: Private repository with features enabled
resource "githubx_repository" "private" {
  name         = "my-private-repo"
  description  = "A private repository with features enabled"
  visibility   = "private"
  has_issues   = true
  has_projects = true
  has_wiki     = true
}

output "private_repository_url" {
  value = githubx_repository.private.html_url
}

# Example 3: Repository with merge settings
resource "githubx_repository" "merge_settings" {
  name                        = "my-merge-repo"
  description                 = "Repository with custom merge settings"
  visibility                  = "public"
  allow_merge_commit          = true
  allow_squash_merge          = true
  allow_rebase_merge          = false
  allow_auto_merge            = true
  delete_branch_on_merge      = true
  squash_merge_commit_title   = "PR_TITLE"
  squash_merge_commit_message = "PR_BODY" # Valid combination with PR_TITLE
  merge_commit_title          = "PR_TITLE"
  merge_commit_message        = "PR_BODY"
}

output "merge_settings_repository_url" {
  value = githubx_repository.merge_settings.html_url
}

# Example 4: Repository with topics
resource "githubx_repository" "with_topics" {
  name        = "my-topics-repo"
  description = "Repository with topics"
  visibility  = "public"
  topics      = ["terraform", "github", "automation", "infrastructure"]
}

output "topics_repository_url" {
  value = githubx_repository.with_topics.html_url
}

# Example 5: Repository with GitHub Pages
resource "githubx_repository" "with_pages" {
  name        = "my-pages-repo"
  description = "Repository with GitHub Pages enabled"
  visibility  = "public"

  pages = {
    source = {
      branch = "main"
      path   = "/"
    }
    build_type = "legacy"
  }
}

output "pages_repository_url" {
  value = githubx_repository.with_pages.html_url
}

# Example 6: Template repository
resource "githubx_repository" "template" {
  name        = "my-template-repo"
  description = "A template repository"
  visibility  = "public"
  is_template = true
}

output "template_repository_url" {
  value = githubx_repository.template.html_url
}

# Example 7: Repository with vulnerability alerts
resource "githubx_repository" "secure" {
  name                 = "my-secure-repo"
  description          = "Repository with security features"
  visibility           = "public"
  vulnerability_alerts = true
}

output "secure_repository_url" {
  value = githubx_repository.secure.html_url
}

# # Example 8: Repository that archives on destroy
# # NOTE: When archive_on_destroy = true, the repository is archived (not deleted) when destroyed.
# # If you try to apply this again after destroying, it will fail because the repository already exists.
# # You would need to manually unarchive the repository in GitHub or use a different name.
# resource "githubx_repository" "archivable" {
#   name               = "my-archivable-repo"
#   description        = "Repository that archives instead of deleting"
#   visibility         = "private"
#   archive_on_destroy = true
# }

# output "archivable_repository_url" {
#   value = githubx_repository.archivable.html_url
# }

# Example 9: Complete repository with all features
resource "githubx_repository" "complete" {
  name                        = "my-complete-repo"
  description                 = "A complete repository example with all features"
  homepage_url                = "https://example.com"
  visibility                  = "public"
  has_issues                  = true
  has_discussions             = true
  has_projects                = true
  has_downloads               = true
  has_wiki                    = true
  allow_merge_commit          = true
  allow_squash_merge          = true
  allow_rebase_merge          = true
  allow_auto_merge            = true
  allow_update_branch         = true
  delete_branch_on_merge      = true
  squash_merge_commit_title   = "PR_TITLE"
  squash_merge_commit_message = "PR_BODY"
  merge_commit_title          = "PR_TITLE"
  merge_commit_message        = "PR_BODY"
  topics                      = ["terraform", "github", "example"]
  vulnerability_alerts        = true

  pages = {
    source = {
      branch = "main"
      path   = "/docs"
    }
    build_type = "workflow"
  }
}

output "complete_repository_url" {
  value = githubx_repository.complete.html_url
}

output "complete_repository_full_name" {
  value = githubx_repository.complete.full_name
}

output "complete_repository_default_branch" {
  value = githubx_repository.complete.default_branch
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the repository.

### Optional

- `allow_auto_merge` (Boolean) Whether auto-merge is enabled.
- `allow_merge_commit` (Boolean) Whether merge commits are allowed.
- `allow_rebase_merge` (Boolean) Whether rebase merges are allowed.
- `allow_squash_merge` (Boolean) Whether squash merges are allowed.
- `allow_update_branch` (Boolean) Whether branch updates are allowed.
- `archive_on_destroy` (Boolean) Whether to archive the repository instead of deleting it when the resource is destroyed.
- `auto_init` (Boolean) Whether to initialize the repository with a README file. This will create the default branch.
- `delete_branch_on_merge` (Boolean) Whether to delete branches after merging pull requests.
- `description` (String) A description of the repository.
- `has_discussions` (Boolean) Whether the repository has discussions enabled.
- `has_downloads` (Boolean) Whether the repository has downloads enabled.
- `has_issues` (Boolean) Whether the repository has issues enabled.
- `has_projects` (Boolean) Whether the repository has projects enabled.
- `has_wiki` (Boolean) Whether the repository has wiki enabled.
- `homepage_url` (String) URL of a page describing the project.
- `is_template` (Boolean) Whether the repository is a template.
- `merge_commit_message` (String) The default commit message for merge commits. Can be 'PR_BODY', 'PR_TITLE', or 'BLANK'.
- `merge_commit_title` (String) The default commit title for merge commits. Can be 'PR_TITLE' or 'MERGE_MESSAGE'.
- `pages` (Attributes) The GitHub Pages configuration for the repository. (see [below for nested schema](#nestedatt--pages))
- `squash_merge_commit_message` (String) The default commit message for squash merges. Can be 'PR_BODY', 'COMMIT_MESSAGES', or 'BLANK'.
- `squash_merge_commit_title` (String) The default commit title for squash merges. Can be 'PR_TITLE' or 'COMMIT_OR_PR_TITLE'.
- `topics` (Set of String) The topics (tags) associated with the repository. Order does not matter as topics are stored as a set.
- `visibility` (String) Can be 'public' or 'private'. If your organization is associated with an enterprise account using GitHub Enterprise Cloud or GitHub Enterprise Server 2.20+, visibility can also be 'internal'.
- `vulnerability_alerts` (Boolean) Whether vulnerability alerts are enabled for the repository.

### Read-Only

- `archived` (Boolean) Whether the repository is archived.
- `default_branch` (String) The default branch of the repository.
- `full_name` (String) The full name of the repository (owner/repo).
- `html_url` (String) The HTML URL of the repository.
- `id` (String) The repository name (same as `name`).
- `node_id` (String) The GitHub node ID of the repository.
- `repo_id` (Number) The GitHub repository ID as an integer.

<a id="nestedatt--pages"></a>
### Nested Schema for `pages`

Optional:

- `build_type` (String)
- `cname` (String)
- `source` (Attributes) (see [below for nested schema](#nestedatt--pages--source))

Read-Only:

- `custom_404` (Boolean)
- `html_url` (String)
- `status` (String)
- `url` (String)

<a id="nestedatt--pages--source"></a>
### Nested Schema for `pages.source`

Required:

- `branch` (String)

Optional:

- `path` (String)
